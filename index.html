<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculadora de Vinilo para Coches</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background-color: #f5f5f5;
      color: #333;
    }
    h1 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 30px;
    }
    .container {
      background-color: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    select, input {
      display: block;
      margin: 15px 0;
      padding: 12px;
      width: 100%;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    select:focus, input:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 5px rgba(52,152,219,0.5);
    }
    button {
      display: block;
      margin: 25px auto;
      padding: 12px 25px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
      width: auto;
    }
    button:hover {
      background-color: #2980b9;
    }
    .modelo-info {
      margin: 20px 0;
      padding: 15px;
      background-color: #f9f9f9;
      border-radius: 5px;
    }
    .modelo-info img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
      margin-top: 10px;
    }
    .resultado {
      margin-top: 30px;
      padding: 20px;
      background: #f4f4f4;
      border-left: 4px solid #4CAF50;
      border-radius: 0 5px 5px 0;
    }
    .resultado h3 {
      margin-top: 0;
      color: #2c3e50;
    }
    .resultado p {
      margin: 10px 0;
    }
    .resultado strong {
      color: #e74c3c;
      font-size: 18px;
    }
    .brand-logos {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin: 30px 0;
      flex-wrap: wrap;
    }
    .brand-logos img {
      height: 60px;
      margin: 10px;
      filter: grayscale(30%);
      transition: filter 0.3s;
    }
    .brand-logos img:hover {
      filter: grayscale(0%);
    }
    .input-group {
      display: flex;
      gap: 15px;
    }
    .input-group > div {
      flex: 1;
    }
    @media (max-width: 600px) {
      .input-group {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Calculadora de Vinilado para Coches</h1>
    
    <div class="brand-logos">
      <img src="https://via.placeholder.com/150x60?text=GSIX9" alt="GSIX9 Logo">
      <img src="https://via.placeholder.com/150x60?text=ORACAL" alt="ORACAL Logo">
      <img src="https://via.placeholder.com/150x60?text=TOTENSER" alt="TOTENSER Logo">
    </div>
    
    <label for="marca">Marca del vehículo:</label>
    <select id="marca" onchange="cargarModelos()">
      <option value="">-- Selecciona marca --</option>
      <!-- Marcas se cargarán automáticamente -->
    </select>
    
    <label for="modelo">Modelo del vehículo:</label>
    <select id="modelo" onchange="mostrarDatosModelo()">
      <option value="">-- Selecciona modelo --</option>
    </select>
    
    <div class="modelo-info" id="modeloInfo"></div>
    
    <label for="tipoVinil">Tipo de vinilo:</label>
    <select id="tipoVinil">
      <option value="standard">Vinilo estándar (€15/m²)</option>
      <option value="premium">Vinilo premium (€25/m²)</option>
      <option value="cambioColor">Cambio de color (€30/m²)</option>
      <option value="personalizado">Personalizado (€35/m²)</option>
    </select>
    
    <div class="input-group">
      <div>
        <label for="horasTrabajo">Horas estimadas:</label>
        <input type="number" id="horasTrabajo" value="20" min="1" />
      </div>
      <div>
        <label for="tarifaHora">Tarifa por hora (€):</label>
        <input type="number" id="tarifaHora" value="30" min="1" step="0.5" />
      </div>
    </div>
    
    <label for="anchoVinilo">Ancho del vinilo (metros):</label>
    <input type="number" id="anchoVinilo" value="1.52" step="0.01" min="0.1" />
    
    <button onclick="calcularPresupuesto()">Calcular Presupuesto</button>
    
    <div class="resultado" id="resultado"></div>
  </div>

  <script>
    // Base de datos completa de vehículos
    const datosVehiculos = {
      marcas: [
        {
          nombre: "audi",
          nombreMostrado: "Audi",
          modelos: [
            { nombre: "A1", dimensiones: { largo: "3,973 mm", ancho: "1,746 mm", alto: "1,422 mm" } },
            { nombre: "A3", dimensiones: { largo: "4,343 mm", ancho: "1,816 mm", alto: "1,458 mm" } },
            { nombre: "A4", dimensiones: { largo: "4,726 mm", ancho: "1,842 mm", alto: "1,427 mm" } },
            { nombre: "A5", dimensiones: { largo: "4,672 mm", ancho: "1,846 mm", alto: "1,371 mm" } },
            { nombre: "A6", dimensiones: { largo: "4,939 mm", ancho: "1,886 mm", alto: "1,458 mm" } },
            { nombre: "A7", dimensiones: { largo: "4,969 mm", ancho: "1,908 mm", alto: "1,407 mm" } },
            { nombre: "A8", dimensiones: { largo: "5,172 mm", ancho: "1,945 mm", alto: "1,473 mm" } },
            { nombre: "Q2", dimensiones: { largo: "4,191 mm", ancho: "1,794 mm", alto: "1,508 mm" } },
            { nombre: "Q3", dimensiones: { largo: "4,484 mm", ancho: "1,849 mm", alto: "1,616 mm" } },
            { nombre: "Q5", dimensiones: { largo: "4,663 mm", ancho: "1,893 mm", alto: "1,659 mm" } },
            { nombre: "Q7", dimensiones: { largo: "5,063 mm", ancho: "1,970 mm", alto: "1,737 mm" } },
            { nombre: "Q8", dimensiones: { largo: "4,986 mm", ancho: "1,995 mm", alto: "1,705 mm" } },
            { nombre: "TT", dimensiones: { largo: "4,191 mm", ancho: "1,832 mm", alto: "1,343 mm" } },
            { nombre: "R8", dimensiones: { largo: "4,426 mm", ancho: "1,940 mm", alto: "1,236 mm" } }
          ]
        },
        {
          nombre: "bmw",
          nombreMostrado: "BMW",
          modelos: [
            { nombre: "Serie 1", dimensiones: { largo: "4,319 mm", ancho: "1,799 mm", alto: "1,434 mm" } },
            { nombre: "Serie 2", dimensiones: { largo: "4,432 mm", ancho: "1,774 mm", alto: "1,418 mm" } },
            { nombre: "Serie 3", dimensiones: { largo: "4,709 mm", ancho: "1,827 mm", alto: "1,442 mm" } },
            { nombre: "Serie 4", dimensiones: { largo: "4,763 mm", ancho: "1,852 mm", alto: "1,383 mm" } },
            { nombre: "Serie 5", dimensiones: { largo: "4,935 mm", ancho: "1,868 mm", alto: "1,466 mm" } },
            { nombre: "Serie 7", dimensiones: { largo: "5,120 mm", ancho: "1,902 mm", alto: "1,467 mm" } },
            { nombre: "Serie 8", dimensiones: { largo: "4,843 mm", ancho: "1,902 mm", alto: "1,341 mm" } },
            { nombre: "X1", dimensiones: { largo: "4,439 mm", ancho: "1,821 mm", alto: "1,598 mm" } },
            { nombre: "X2", dimensiones: { largo: "4,360 mm", ancho: "1,824 mm", alto: "1,526 mm" } },
            { nombre: "X3", dimensiones: { largo: "4,708 mm", ancho: "1,891 mm", alto: "1,676 mm" } },
            { nombre: "X4", dimensiones: { largo: "4,752 mm", ancho: "1,918 mm", alto: "1,621 mm" } },
            { nombre: "X5", dimensiones: { largo: "4,920 mm", ancho: "2,004 mm", alto: "1,745 mm" } },
            { nombre: "X6", dimensiones: { largo: "4,935 mm", ancho: "2,004 mm", alto: "1,696 mm" } },
            { nombre: "X7", dimensiones: { largo: "5,151 mm", ancho: "2,000 mm", alto: "1,805 mm" } },
            { nombre: "Z4", dimensiones: { largo: "4,324 mm", ancho: "1,864 mm", alto: "1,304 mm" } },
            { nombre: "i3", dimensiones: { largo: "4,024 mm", ancho: "1,775 mm", alto: "1,596 mm" } },
            { nombre: "i8", dimensiones: { largo: "4,689 mm", ancho: "1,942 mm", alto: "1,298 mm" } }
          ]
        },
        {
          nombre: "mercedes",
          nombreMostrado: "Mercedes-Benz",
          modelos: [
            { nombre: "Clase A", dimensiones: { largo: "4,419 mm", ancho: "1,796 mm", alto: "1,440 mm" } },
            { nombre: "Clase B", dimensiones: { largo: "4,359 mm", ancho: "1,786 mm", alto: "1,557 mm" } },
            { nombre: "Clase C", dimensiones: { largo: "4,686 mm", ancho: "1,810 mm", alto: "1,442 mm" } },
            { nombre: "Clase E", dimensiones: { largo: "4,923 mm", ancho: "1,852 mm", alto: "1,468 mm" } },
            { nombre: "Clase S", dimensiones: { largo: "5,179 mm", ancho: "1,921 mm", alto: "1,503 mm" } },
            { nombre: "CLA", dimensiones: { largo: "4,688 mm", ancho: "1,830 mm", alto: "1,439 mm" } },
            { nombre: "CLS", dimensiones: { largo: "4,988 mm", ancho: "1,890 mm", alto: "1,422 mm" } },
            { nombre: "GLA", dimensiones: { largo: "4,410 mm", ancho: "1,834 mm", alto: "1,611 mm" } },
            { nombre: "GLB", dimensiones: { largo: "4,634 mm", ancho: "1,834 mm", alto: "1,663 mm" } },
            { nombre: "GLC", dimensiones: { largo: "4,656 mm", ancho: "1,890 mm", alto: "1,639 mm" } },
            { nombre: "GLE", dimensiones: { largo: "4,921 mm", ancho: "1,949 mm", alto: "1,797 mm" } },
            { nombre: "GLS", dimensiones: { largo: "5,207 mm", ancho: "1,956 mm", alto: "1,823 mm" } },
            { nombre: "G", dimensiones: { largo: "4,867 mm", ancho: "1,931 mm", alto: "1,962 mm" } },
            { nombre: "AMG GT", dimensiones: { largo: "4,551 mm", ancho: "1,939 mm", alto: "1,289 mm" } },
            { nombre: "SL", dimensiones: { largo: "4,710 mm", ancho: "1,915 mm", alto: "1,359 mm" } }
          ]
        },
        {
          nombre: "volkswagen",
          nombreMostrado: "Volkswagen",
          modelos: [
            { nombre: "Polo", dimensiones: { largo: "4,053 mm", ancho: "1,751 mm", alto: "1,446 mm" } },
            { nombre: "Golf", dimensiones: { largo: "4,284 mm", ancho: "1,789 mm", alto: "1,456 mm" } },
            { nombre: "Passat", dimensiones: { largo: "4,767 mm", ancho: "1,832 mm", alto: "1,456 mm" } },
            { nombre: "Arteon", dimensiones: { largo: "4,862 mm", ancho: "1,871 mm", alto: "1,427 mm" } },
            { nombre: "T-Roc", dimensiones: { largo: "4,234 mm", ancho: "1,820 mm", alto: "1,572 mm" } },
            { nombre: "Tiguan", dimensiones: { largo: "4,486 mm", ancho: "1,839 mm", alto: "1,673 mm" } },
            { nombre: "Touareg", dimensiones: { largo: "4,878 mm", ancho: "1,984 mm", alto: "1,702 mm" } },
            { nombre: "ID.3", dimensiones: { largo: "4,261 mm", ancho: "1,809 mm", alto: "1,568 mm" } },
            { nombre: "ID.4", dimensiones: { largo: "4,584 mm", ancho: "1,852 mm", alto: "1,612 mm" } },
            { nombre: "Caddy", dimensiones: { largo: "4,505 mm", ancho: "1,855 mm", alto: "1,803 mm" } },
            { nombre: "Transporter", dimensiones: { largo: "5,304 mm", ancho: "1,904 mm", alto: "1,990 mm" } },
            { nombre: "Amarok", dimensiones: { largo: "5,254 mm", ancho: "1,954 mm", alto: "1,834 mm" } }
          ]
        },
        {
          nombre: "seat",
          nombreMostrado: "SEAT",
          modelos: [
            { nombre: "Ibiza", dimensiones: { largo: "4,059 mm", ancho: "1,780 mm", alto: "1,444 mm" } },
            { nombre: "Leon", dimensiones: { largo: "4,368 mm", ancho: "1,800 mm", alto: "1,456 mm" } },
            { nombre: "Arona", dimensiones: { largo: "4,138 mm", ancho: "1,780 mm", alto: "1,552 mm" } },
            { nombre: "Ateca", dimensiones: { largo: "4,360 mm", ancho: "1,841 mm", alto: "1,614 mm" } },
            { nombre: "Tarraco", dimensiones: { largo: "4,735 mm", ancho: "1,839 mm", alto: "1,658 mm" } },
            { nombre: "Mii", dimensiones: { largo: "3,557 mm", ancho: "1,645 mm", alto: "1,482 mm" } }
          ]
        },
        {
          nombre: "ford",
          nombreMostrado: "Ford",
          modelos: [
            { nombre: "Fiesta", dimensiones: { largo: "4,040 mm", ancho: "1,735 mm", alto: "1,484 mm" } },
            { nombre: "Focus", dimensiones: { largo: "4,378 mm", ancho: "1,825 mm", alto: "1,455 mm" } },
            { nombre: "Mondeo", dimensiones: { largo: "4,871 mm", ancho: "1,852 mm", alto: "1,482 mm" } },
            { nombre: "Mustang", dimensiones: { largo: "4,788 mm", ancho: "1,916 mm", alto: "1,382 mm" } },
            { nombre: "Puma", dimensiones: { largo: "4,207 mm", ancho: "1,805 mm", alto: "1,531 mm" } },
            { nombre: "Kuga", dimensiones: { largo: "4,614 mm", ancho: "1,882 mm", alto: "1,679 mm" } },
            { nombre: "Explorer", dimensiones: { largo: "5,050 mm", ancho: "2,004 mm", alto: "1,775 mm" } },
            { nombre: "Ranger", dimensiones: { largo: "5,370 mm", ancho: "1,928 mm", alto: "1,814 mm" } },
            { nombre: "Transit", dimensiones: { largo: "5,339 mm", ancho: "2,064 mm", alto: "2,065 mm" } }
          ]
        },
        {
          nombre: "opel",
          nombreMostrado: "Opel",
          modelos: [
            { nombre: "Corsa", dimensiones: { largo: "4,060 mm", ancho: "1,765 mm", alto: "1,435 mm" } },
            { nombre: "Astra", dimensiones: { largo: "4,374 mm", ancho: "1,860 mm", alto: "1,482 mm" } },
            { nombre: "Insignia", dimensiones: { largo: "4,896 mm", ancho: "1,863 mm", alto: "1,460 mm" } },
            { nombre: "Mokka", dimensiones: { largo: "4,151 mm", ancho: "1,791 mm", alto: "1,535 mm" } },
            { nombre: "Crossland", dimensiones: { largo: "4,213 mm", ancho: "1,765 mm", alto: "1,605 mm" } },
            { nombre: "Grandland", dimensiones: { largo: "4,477 mm", ancho: "1,844 mm", alto: "1,609 mm" } },
            { nombre: "Combo", dimensiones: { largo: "4,403 mm", ancho: "1,808 mm", alto: "1,810 mm" } },
            { nombre: "Movano", dimensiones: { largo: "5,308 mm", ancho: "2,040 mm", alto: "2,280 mm" } }
          ]
        },
        {
          nombre: "peugeot",
          nombreMostrado: "Peugeot",
          modelos: [
            { nombre: "208", dimensiones: { largo: "4,055 mm", ancho: "1,745 mm", alto: "1,430 mm" } },
            { nombre: "308", dimensiones: { largo: "4,253 mm", ancho: "1,804 mm", alto: "1,457 mm" } },
            { nombre: "508", dimensiones: { largo: "4,750 mm", ancho: "1,855 mm", alto: "1,403 mm" } },
            { nombre: "2008", dimensiones: { largo: "4,300 mm", ancho: "1,770 mm", alto: "1,530 mm" } },
            { nombre: "3008", dimensiones: { largo: "4,447 mm", ancho: "1,841 mm", alto: "1,624 mm" } },
            { nombre: "5008", dimensiones: { largo: "4,641 mm", ancho: "1,844 mm", alto: "1,646 mm" } },
            { nombre: "Rifter", dimensiones: { largo: "4,403 mm", ancho: "1,848 mm", alto: "1,640 mm" } },
            { nombre: "Expert", dimensiones: { largo: "4,959 mm", ancho: "1,920 mm", alto: "1,900 mm" } },
            { nombre: "Boxer", dimensiones: { largo: "5,413 mm", ancho: "2,050 mm", alto: "2,285 mm" } }
          ]
        },
        {
          nombre: "renault",
          nombreMostrado: "Renault",
          modelos: [
            { nombre: "Clio", dimensiones: { largo: "4,050 mm", ancho: "1,798 mm", alto: "1,440 mm" } },
            { nombre: "Megane", dimensiones: { largo: "4,359 mm", ancho: "1,814 mm", alto: "1,447 mm" } },
            { nombre: "Talisman", dimensiones: { largo: "4,852 mm", ancho: "1,870 mm", alto: "1,466 mm" } },
            { nombre: "Captur", dimensiones: { largo: "4,128 mm", ancho: "1,797 mm", alto: "1,565 mm" } },
            { nombre: "Kadjar", dimensiones: { largo: "4,448 mm", ancho: "1,836 mm", alto: "1,613 mm" } },
            { nombre: "Koleos", dimensiones: { largo: "4,672 mm", ancho: "1,843 mm", alto: "1,678 mm" } },
            { nombre: "Master", dimensiones: { largo: "5,408 mm", ancho: "2,070 mm", alto: "2,280 mm" } },
            { nombre: "Trafic", dimensiones: { largo: "4,998 mm", ancho: "1,920 mm", alto: "1,963 mm" } },
            { nombre: "Zoe", dimensiones: { largo: "4,084 mm", ancho: "1,730 mm", alto: "1,562 mm" } }
          ]
        }
      ]
    };

    let modelosActuales = [];

    // Cargar marcas al inicio
    document.addEventListener('DOMContentLoaded', function() {
      const selectMarca = document.getElementById('marca');
      
      // Ordenar marcas alfabéticamente
      datosVehiculos.marcas.sort((a, b) => a.nombreMostrado.localeCompare(b.nombreMostrado));
      
      // Añadir marcas al selector
      datosVehiculos.marcas.forEach(marca => {
        const option = document.createElement('option');
        option.value = marca.nombre;
        option.textContent = marca.nombreMostrado;
        selectMarca.appendChild(option);
      });
    });

    function cargarModelos() {
      const marcaSeleccionada = document.getElementById('marca').value;
      const selectModelo = document.getElementById('modelo');
      
      // Limpiar selector de modelos
      selectModelo.innerHTML = '<option value="">-- Selecciona modelo --</option>';
      
      if (!marcaSeleccionada) return;
      
      // Encontrar la marca seleccionada
      const marcaData = datosVehiculos.marcas.find(m => m.nombre === marcaSeleccionada);
      
      if (!marcaData || !marcaData.modelos) return;
      
      modelosActuales = marcaData.modelos;
      
      // Ordenar modelos alfabéticamente
      modelosActuales.sort((a, b) => a.nombre.localeCompare(b.nombre));
      
      // Añadir modelos al selector
      modelosActuales.forEach((modelo, index) => {
        const option = document.createElement('option');
        option.value = index;
        option.textContent = modelo.nombre;
        selectModelo.appendChild(option);
      });
      
      // Limpiar información previa
      document.getElementById("modeloInfo").innerHTML = "";
      document.getElementById("resultado").innerHTML = "";
    }

    function mostrarDatosModelo() {
      const modeloIndex = document.getElementById('modelo').value;
      
      if (modeloIndex === "" || !modelosActuales || modelosActuales.length === 0) {
        document.getElementById("modeloInfo").innerHTML = "";
        return;
      }
      
      const modelo = modelosActuales[modeloIndex];
      
      if (!modelo) return;
      
      const { nombre, dimensiones } = modelo;
      
      document.getElementById("modeloInfo").innerHTML = `
        <h3>${nombre}</h3>
        <p><strong>Dimensiones:</strong> Largo: ${dimensiones.largo}, Ancho: ${dimensiones.ancho}, Alto: ${dimensiones.alto}</p>
      `;
      
      document.getElementById("resultado").innerHTML = "";
    }

    function limpiarNumero(valor) {
      if (typeof valor === 'number') return valor;
      if (typeof valor !== 'string') return 0;
      
      // Eliminar caracteres no numéricos excepto coma y punto
      const numeroLimpio = valor.replace(/[^\d.,]/g, '');
      
      // Reemplazar coma por punto para decimales
      const numeroNormalizado = numeroLimpio.replace(',', '.');
      
      // Convertir a número
      return parseFloat(numeroNormalizado) || 0;
    }

    function calcularPresupuesto() {
      const modeloIndex = document.getElementById('modelo').value;
      
      if (modeloIndex === "" || !modelosActuales || modelosActuales.length === 0) {
        alert("Por favor, selecciona un modelo de vehículo");
        return;
      }
      
      const modelo = modelosActuales[modeloIndex];
      const tipoVinil = document.getElementById('tipoVinil').value;
      const horas = parseFloat(document.getElementById('horasTrabajo').value) || 0;
      const tarifa = parseFloat(document.getElementById('tarifaHora').value) || 0;
      const anchoVinilo = parseFloat(document.getElementById('anchoVinilo').value) || 1.52;
      
      // Convertir dimensiones a metros
      const largo = limpiarNumero(modelo.dimensiones.largo) / 1000;
      const ancho = limpiarNumero(modelo.dimensiones.ancho) / 1000;
      const alto = limpiarNumero(modelo.dimensiones.alto) / 1000;
      
      // Cálculo del área superficial aproximada (fórmula simplificada)
      const areaSuperficial = 0.8 * (2 * (largo * alto + ancho * alto) + largo * ancho);
      const areaVinilo = areaSuperficial;
      const metrosLineales = areaVinilo / anchoVinilo;
      
      const precios = {
        standard: 15,
        premium: 25,
        cambioColor: 30,
        personalizado: 35
      };
      
      const costeMaterial = areaVinilo * precios[tipoVinil];
      const costeManoObra = horas * tarifa;
      const total = costeMaterial + costeManoObra;
      
      document.getElementById('resultado').innerHTML = `
        <h3>Presupuesto Estimado</h3>
        <p>Área de vinilo: ${areaVinilo.toFixed(2)} m²</p>
        <p>Metros lineales: ${metrosLineales.toFixed(2)} m</p>
        <p>Coste de materiales: ${costeMaterial.toFixed(2)} €</p>
        <p>Coste de mano de obra: ${costeManoObra.toFixed(2)} €</p>
        <p><strong>Total: ${total.toFixed(2)} €</strong></p>
      `;
    }
  </script>
</body>
</html>