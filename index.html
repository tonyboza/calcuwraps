
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calculadora de Vinilo para Coches</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background-color: #f5f5f5;
      color: #333;
    }
    h1 {
      color: #2c3e50;
      text-align: center;
      margin-bottom: 10px;
    }
    .brand-logos {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    .brand-logos img {
      height: 60px;
    }
    .brand-logos img.center {
      height: 70px;
    }
    .container {
      background-color: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    select, input {
      display: block;
      margin: 15px 0;
      padding: 12px;
      width: 100%;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    select:focus, input:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 5px rgba(52,152,219,0.5);
    }
    button {
      display: block;
      margin: 25px auto;
      padding: 12px 25px;
      background-color: #e74c3c;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
      width: auto;
    }
    button:hover {
      background-color: #c0392b;
    }
    .resultado {
      margin-top: 30px;
      padding: 20px;
      background: #f4f4f4;
      border-left: 4px solid #4CAF50;
      border-radius: 0 5px 5px 0;
    }
    .resultado h3 {
      margin-top: 0;
      color: #2c3e50;
    }
  </style>
</head>
<body>
  <div class="brand-logos">
    <img src="img/gsix9.png" alt="GSIX9 Logo">
    <img src="img/oracal.png" class="center" alt="ORACAL Logo">
    <img src="img/totenser.png" alt="TOTENSER Logo">
  </div>

  <div class="container">
    <h1>Calculadora de Vinilo para Coches</h1>
    <label for="marca">Marca:</label>
    <select id="marca" onchange="cargarModelos()">
      <option value="">-- Selecciona marca --</option>
    </select>

    <label for="modelo">Modelo:</label>
    <select id="modelo" onchange="mostrarDatosModelo()">
      <option value="">-- Selecciona modelo --</option>
    </select>

    <div id="modeloInfo" style="margin-top: 10px; font-weight: bold;"></div>

    <label for="dificultad">Dificultad del trabajo:</label>
    <select id="dificultad">
      <option value="0.0">Fácil (sin incremento)</option>
      <option value="0.1">Media (+10%)</option>
      <option value="0.2">Difícil (+20%)</option>
    </select>

    <label for="tipoVinil">Tipo de vinilo:</label>
    <select id="tipoVinil">
      <option value="15">Vinilo estándar (€15/m²)</option>
      <option value="25">Vinilo premium (€25/m²)</option>
      <option value="30">Cambio de color (€30/m²)</option>
      <option value="35">Personalizado (€35/m²)</option>
    </select>

    <label for="horasTrabajo">Horas estimadas:</label>
    <input type="number" id="horasTrabajo" value="20" min="1" />

    <label for="tarifaHora">Tarifa por hora (€):</label>
    <input type="number" id="tarifaHora" value="30" min="1" step="0.5" />

    <label for="anchoVinilo">Ancho del vinilo (m):</label>
    <input type="number" id="anchoVinilo" value="1.52" step="0.01" min="0.1" />

    <button onclick="calcularPresupuesto()">Calcular Presupuesto</button>

    <div class="resultado" id="resultado"></div>
  </div>

  <script>
    const datosVehiculos = {
      marcas: [
        {
          nombre: "abarth",
          nombreMostrado: "Abarth",
          modelos: [
            { nombre: "500", dimensiones: { largo: "3673 mm", ancho: "1682 mm", alto: "1518 mm" } },
            { nombre: "500C", dimensiones: { largo: "3660 mm", ancho: "1627 mm", alto: "1485 mm" } },
            { nombre: "595", dimensiones: { largo: "3660 mm", ancho: "1627 mm", alto: "1485 mm" } },
            { nombre: "695", dimensiones: { largo: "3660 mm", ancho: "1627 mm", alto: "1485 mm" } },
            { nombre: "500e", dimensiones: { largo: "3632 mm", ancho: "1683 mm", alto: "1527 mm" } }
          ]
        }
      ]
    };

    let modelosActuales = [];

    document.addEventListener('DOMContentLoaded', () => {
      const selectMarca = document.getElementById('marca');
      datosVehiculos.marcas.sort((a, b) => a.nombreMostrado.localeCompare(b.nombreMostrado));
      datosVehiculos.marcas.forEach(marca => {
        const option = document.createElement('option');
        option.value = marca.nombre;
        option.textContent = marca.nombreMostrado;
        selectMarca.appendChild(option);
      });
    });

    function cargarModelos() {
      const marcaSeleccionada = document.getElementById('marca').value;
      const selectModelo = document.getElementById('modelo');
      selectModelo.innerHTML = '<option value="">-- Selecciona modelo --</option>';
      const marcaData = datosVehiculos.marcas.find(m => m.nombre === marcaSeleccionada);
      if (!marcaData) return;
      modelosActuales = marcaData.modelos;
      modelosActuales.forEach((modelo, index) => {
        const option = document.createElement('option');
        option.value = index;
        option.textContent = modelo.nombre;
        selectModelo.appendChild(option);
      });
      document.getElementById("modeloInfo").innerHTML = "";
    }

    function mostrarDatosModelo() {
      const modeloIndex = document.getElementById('modelo').value;
      if (!modelosActuales[modeloIndex]) return;
      const modelo = modelosActuales[modeloIndex];
      document.getElementById("modeloInfo").innerHTML = `
        <p><strong>Dimensiones:</strong> Largo: ${modelo.dimensiones.largo}, Ancho: ${modelo.dimensiones.ancho}, Alto: ${modelo.dimensiones.alto}</p>
      `;
    }

    function limpiarNumero(valor) {
      return parseFloat(valor.replace(/[^0-9.]/g, "")) || 0;
    }

    function calcularPresupuesto() {
      const modeloIndex = document.getElementById('modelo').value;
      const modelo = modelosActuales[modeloIndex];
      if (!modelo) {
        alert("Selecciona un modelo");
        return;
      }

      const tipoVinil = parseFloat(document.getElementById('tipoVinil').value);
      const dificultad = parseFloat(document.getElementById('dificultad').value);
      const horas = parseFloat(document.getElementById('horasTrabajo').value);
      const tarifa = parseFloat(document.getElementById('tarifaHora').value);
      const anchoVinilo = parseFloat(document.getElementById('anchoVinilo').value);

      const largo = limpiarNumero(modelo.dimensiones.largo) / 1000;
      const ancho = limpiarNumero(modelo.dimensiones.ancho) / 1000;
      const alto = limpiarNumero(modelo.dimensiones.alto) / 1000;

      const area = 0.8 * (2 * (largo * alto + ancho * alto) + largo * ancho);
      const metrosLineales = area / anchoVinilo;

      const costeMaterial = area * tipoVinil * (1 + dificultad);
      const costeManoObra = horas * tarifa;
      const total = costeMaterial + costeManoObra;

      document.getElementById("resultado").innerHTML = `
        <h3>Presupuesto Estimado</h3>
        <p><strong>Área estimada:</strong> ${area.toFixed(2)} m²</p>
        <p><strong>Metros lineales:</strong> ${metrosLineales.toFixed(2)} m</p>
        <p><strong>Total estimado:</strong> ${total.toFixed(2)} €</p>
      `;
    }
  </script>
</body>
</html>
